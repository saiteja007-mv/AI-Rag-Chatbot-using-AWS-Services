<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI RAG Chatbot</title>
    <link rel="stylesheet" href="styles.css?v=light1">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="auth-wrapper" id="authContainer">
        <div class="auth-card" id="loginCard">
            <h2>Welcome Back</h2>
            <p class="auth-subtitle">Sign in to access your knowledge workspace</p>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required placeholder="you@example.com">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required placeholder="Minimum 8 characters">
                </div>
                <button type="submit" class="primary-button">Sign In</button>
            </form>
            <p class="auth-switch">New here? <button type="button" id="showRegister" class="link-button">Create an account</button></p>
        </div>

        <div class="auth-card" id="registerCard" style="display: none;">
            <h2>Create Account</h2>
            <p class="auth-subtitle">Upload documents and chat with your private knowledge base</p>
            <form id="registerForm">
                <div class="form-group">
                    <label for="registerName">Full Name</label>
                    <input type="text" id="registerName" required placeholder="Your name">
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" required placeholder="you@example.com">
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" required placeholder="Minimum 8 characters">
                </div>
                <button type="submit" class="primary-button">Create Account</button>
            </form>
            <p class="auth-switch">Already have an account? <button type="button" id="showLogin" class="link-button">Sign in</button></p>
        </div>
    </div>

    <div class="app" id="appContainer" style="display: none;">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <button class="new-chat-btn" id="newChat">
                    <i class="fas fa-plus"></i>
                    New chat
                </button>
            </div>
            
            <div class="uploaded-files-section">
                <div class="uploaded-files" id="uploadedFiles">
                    <div class="files-list" id="filesList">
                        <p class="no-files">No documents uploaded yet</p>
                    </div>
                </div>
            </div>

            <div class="sidebar-footer">
                <button class="clear-chat-btn" id="clearChat">
                    <i class="fas fa-trash"></i>
                    Clear chat
                </button>
            </div>
        </div>

        <!-- Main Chat Area -->
        <div class="main-content">
            <div class="chat-header">
                <div>
                    <h1>AI RAG Chatbot</h1>
                    <p>Ask questions about your uploaded documents</p>
                </div>
                <div class="document-filter">
                    <label for="documentSelect">Answer using</label>
                    <select id="documentSelect">
                        <option value="all">All documents</option>
                    </select>
                </div>
                <div class="user-menu" id="userMenu">
                    <div class="user-name" id="userNameDisplay"></div>
                    <button class="logout-button" id="logoutButton" title="Sign out">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="message bot-message">
                    <div class="message-content">
                        <p>Hello! I'm your AI assistant. Upload some documents and ask me questions about them. I'll help you find relevant information from your knowledge base.</p>
                    </div>
                </div>
            </div>

            <div class="chat-input-container">
                <!-- Upload Area -->
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <i class="fas fa-paperclip"></i>
                        <span>Attach files</span>
                    </div>
                    <input type="file" id="fileInput" multiple accept=".pdf,.doc,.docx" style="display: none;">
                </div>

                <!-- Upload Progress -->
                <div class="upload-progress" id="uploadProgress" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <p class="progress-text" id="progressText">Uploading...</p>
                </div>

                <!-- Chat Input -->
                <div class="chat-input-wrapper">
                    <input type="text" id="chatInput" placeholder="Message AI RAG Chatbot..." maxlength="500" disabled>
                    <button id="sendButton" class="send-button" disabled>
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                <div class="chat-footer">
                    <p>AI can make mistakes. Check important info.</p>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js?v=light1"></script>
</body>
</html>
